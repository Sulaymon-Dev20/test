{"ast":null,"code":"var _jsxFileName = \"/media/my-word-com/\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0442\\u043E\\u043C/MYBUS.FRONTEND/MYBUS/src/views/Maps.js\";\nimport React from \"react\";\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst query_status = {\n  valid: false,\n  status: \"\"\n};\nconst api = \"/api/mobile/v2/radius?\";\nlet map;\nlet markers = [];\nlet selectedPositionMarker;\nlet shownInfowindow;\nconst selected_position = {\n  lat: 41.320052,\n  lng: 69.253966\n};\nconst san_fransisco = {\n  lat: 41.320052,\n  lng: 69.253966\n};\n\nfunction initMap() {\n  map = new google.maps.Map(document.getElementById('map'), {\n    center: selected_position,\n    zoom: 12\n  });\n  google.maps.event.addListener(map, 'click', function (event) {\n    fillLatLong(event.latLng);\n  });\n}\n\nfunction fillLatLongToCenterSF() {\n  document.getElementById(\"latitude\").value = san_fransisco.lat;\n  document.getElementById(\"longitude\").value = san_fransisco.lng;\n  updateSelectedMarkerPosition(san_fransisco.lat, san_fransisco.lng);\n  map.setCenter(san_fransisco);\n}\n\nfunction fillLatLong(location) {\n  document.getElementById(\"latitude\").value = location.lat();\n  document.getElementById(\"longitude\").value = location.lng();\n  updateSelectedMarkerPosition(location.lat(), location.lng());\n}\n\nfunction updateSelectedMarkerPosition(lat, lng) {\n  if (selectedPositionMarker) {\n    selectedPositionMarker.setPosition(new google.maps.LatLng(lat, lng));\n  } else {\n    selectedPositionMarker = new google.maps.Marker({\n      position: {\n        lat: lat,\n        lng: lng\n      },\n      map: map,\n      icon: getPinImage(\"FE7569\")\n    });\n  }\n}\n\nfunction getPinImage(pinColor) {\n  return new google.maps.MarkerImage(\"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|\" + pinColor, new google.maps.Size(21, 34), new google.maps.Point(0, 0), new google.maps.Point(10, 34));\n}\n\nfunction getBusStops() {\n  const status = document.getElementById(\"status\");\n  let url = api;\n  const locationQuery = getLocationQueryAndValidate(); // Query of latitude, longitude and distance\n\n  url += \"status=\" + status.value;\n\n  if (query_status.valid && !emptyString(locationQuery)) {\n    url += \"&\" + locationQuery;\n  } else if (!query_status.valid) {\n    window.alert(\"INVALID QUERY!: \" + query_status.status);\n  }\n\n  if (query_status.valid) {\n    $.getJSON(url, getBusStopsJSON);\n  }\n}\n\nfunction getBusStopsJSON(data) {\n  clearMarkers();\n\n  for (let i = 0; i < data.length; i++) {\n    const infowindow = new google.maps.InfoWindow();\n    const content = getInfoWindowContentString(data[i]);\n    const marker = new google.maps.Marker({\n      position: {\n        lat: data[i].lat,\n        lng: data[i].lng\n      },\n      map: map,\n      icon: getPinImage(\"75FE69\")\n    });\n    google.maps.event.addListener(marker, 'click', function (marker, content, infowindow) {\n      return function () {\n        if (shownInfowindow) {\n          shownInfowindow.close();\n        }\n\n        infowindow.setContent(content);\n        infowindow.open(map, marker);\n        shownInfowindow = infowindow;\n      };\n    }(marker, content, infowindow));\n    markers.push(marker);\n  }\n}\n\nfunction clearMarkers() {\n  for (let i = 0; i < markers.length; i++) {\n    markers[i].setMap(null);\n  }\n\n  markers = [];\n}\n\nfunction emptyString(str) {\n  return !str || 0 === str.length;\n}\n\nfunction getLocationQueryAndValidate() {\n  let queryStr = \"\";\n  query_status.valid = true;\n  const latitude = document.getElementById(\"latitude\").value;\n  const longitude = document.getElementById(\"longitude\").value;\n  const radius = document.getElementById(\"radius\").value;\n  const radius_unit = document.getElementById(\"radius_unit\").value;\n\n  if (emptyString(latitude) && emptyString(longitude) && emptyString(radius)) {\n    query_status.valid = true;\n  } else {\n    validateNumberInput(latitude, \"Latitude\");\n    validateNumberInput(longitude, \"Longitude\");\n    validateNumberInput(radius, \"Radius\");\n\n    if (query_status.valid) {\n      queryStr += \"latitude=\" + latitude + \"&longitude=\" + longitude + \"&radius=\" + radius + \"&radius_unit=\" + radius_unit;\n    }\n  }\n\n  return queryStr;\n}\n\nfunction validateNumberInput(input, inputStr) {\n  if (emptyString(input)) {\n    // Then field is missing\n    query_status.valid = false;\n    query_status.status = inputStr + \" is missing!\";\n  } else if (!emptyString(input) && isNaN(input)) {\n    query_status.valid = false;\n    query_status.status = inputStr + \" is invalid!\";\n  }\n}\n\nfunction getInfoWindowContentString(busStop) {\n  content = '<div id=\"content\">' + '<div id=\"siteNotice\">' + '</div>' + '<b>bus stop: </b>' + busStop.name + '<br/>' + '<b>buses: </b>' + busStop.routes + '<br/>' + '<b>location: </b>' + busStop.lat + \"/\" + busStop.lng + '<br/>' + '<a href=\"http://t.me/Sulaymon_Yahyo\">MY TELEGRAM ADDRESS</a>' + '</div>' + '</div>';\n  return content;\n}\n\nexport default function Maps() {\n  return /*#__PURE__*/_jsxDEV(CustomSkinMap, {\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDS4sGjQ5hi3IFNYa0dYGyuxmNZzPwv1jc\",\n    loadingElement: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: `100%`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }, this),\n    containerElement: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: `80vh`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 31\n    }, this),\n    mapElement: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: `100%`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 9\n  }, this);\n}\n_c = Maps;\n\nvar _c;\n\n$RefreshReg$(_c, \"Maps\");","map":{"version":3,"sources":["/media/my-word-com/Новый том/MYBUS.FRONTEND/MYBUS/src/views/Maps.js"],"names":["React","withScriptjs","withGoogleMap","GoogleMap","Marker","query_status","valid","status","api","map","markers","selectedPositionMarker","shownInfowindow","selected_position","lat","lng","san_fransisco","initMap","google","maps","Map","document","getElementById","center","zoom","event","addListener","fillLatLong","latLng","fillLatLongToCenterSF","value","updateSelectedMarkerPosition","setCenter","location","setPosition","LatLng","position","icon","getPinImage","pinColor","MarkerImage","Size","Point","getBusStops","url","locationQuery","getLocationQueryAndValidate","emptyString","window","alert","$","getJSON","getBusStopsJSON","data","clearMarkers","i","length","infowindow","InfoWindow","content","getInfoWindowContentString","marker","close","setContent","open","push","setMap","str","queryStr","latitude","longitude","radius","radius_unit","validateNumberInput","input","inputStr","isNaN","busStop","name","routes","Maps","height"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    withScriptjs,\n    withGoogleMap,\n    GoogleMap,\n    Marker\n} from \"react-google-maps\";\n\nconst query_status =\n    {\n        valid: false,\n        status: \"\"\n    };\n\nconst api = \"/api/mobile/v2/radius?\";\n\nlet map;\nlet markers = [];\nlet selectedPositionMarker;\nlet shownInfowindow;\n\nconst selected_position =\n    {\n        lat: 41.320052,\n        lng: 69.253966\n    };\n\nconst san_fransisco =\n    {\n        lat: 41.320052,\n        lng: 69.253966\n    };\n\nfunction initMap() {\n    map = new google.maps.Map(document.getElementById('map'), {\n        center: selected_position,\n        zoom: 12\n    });\n    google.maps.event.addListener(map, 'click', function (event) {\n        fillLatLong(event.latLng);\n    });\n}\n\nfunction fillLatLongToCenterSF() {\n    document.getElementById(\"latitude\").value = san_fransisco.lat;\n    document.getElementById(\"longitude\").value = san_fransisco.lng;\n\n    updateSelectedMarkerPosition(san_fransisco.lat, san_fransisco.lng);\n\n    map.setCenter(san_fransisco);\n}\n\nfunction fillLatLong(location) {\n    document.getElementById(\"latitude\").value = location.lat();\n    document.getElementById(\"longitude\").value = location.lng();\n\n    updateSelectedMarkerPosition(location.lat(), location.lng());\n}\n\nfunction updateSelectedMarkerPosition(lat, lng) {\n    if (selectedPositionMarker) {\n        selectedPositionMarker.setPosition(new google.maps.LatLng(lat, lng));\n    } else {\n        selectedPositionMarker = new google.maps.Marker({\n            position: {\n                lat: lat,\n                lng: lng\n            },\n            map: map,\n            icon: getPinImage(\"FE7569\"),\n        });\n    }\n}\n\nfunction getPinImage(pinColor) {\n    return new google.maps.MarkerImage(\"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|\" + pinColor,\n        new google.maps.Size(21, 34),\n        new google.maps.Point(0, 0),\n        new google.maps.Point(10, 34));\n}\n\nfunction getBusStops() {\n    const status = document.getElementById(\"status\");\n    let url = api;\n    const locationQuery = getLocationQueryAndValidate(); // Query of latitude, longitude and distance\n    url += \"status=\" + status.value;\n    if (query_status.valid && !emptyString(locationQuery)) {\n        url += (\"&\" + locationQuery);\n    } else if (!query_status.valid) {\n        window.alert(\"INVALID QUERY!: \" + query_status.status);\n    }\n    if (query_status.valid) {\n        $.getJSON(url, getBusStopsJSON);\n    }\n}\n\nfunction getBusStopsJSON(data) {\n    clearMarkers();\n\n    for (let i = 0; i < data.length; i++) {\n        const infowindow = new google.maps.InfoWindow();\n        const content = getInfoWindowContentString(data[i]);\n        const marker = new google.maps.Marker({\n            position: {\n                lat: data[i].lat,\n                lng: data[i].lng\n            },\n            map: map,\n            icon: getPinImage(\"75FE69\"),\n        });\n\n        google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {\n            return function () {\n                if (shownInfowindow) {\n                    shownInfowindow.close();\n                }\n                infowindow.setContent(content);\n                infowindow.open(map, marker);\n                shownInfowindow = infowindow;\n            };\n        })(marker, content, infowindow));\n        markers.push(marker);\n    }\n}\n\nfunction clearMarkers() {\n    for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n    }\n    markers = [];\n}\n\nfunction emptyString(str) {\n    return (!str || 0 === str.length);\n}\n\nfunction getLocationQueryAndValidate() {\n    let queryStr = \"\";\n    query_status.valid = true;\n    const latitude = document.getElementById(\"latitude\").value;\n    const longitude = document.getElementById(\"longitude\").value;\n    const radius = document.getElementById(\"radius\").value;\n    const radius_unit = document.getElementById(\"radius_unit\").value;\n\n    if (emptyString(latitude) && emptyString(longitude) && emptyString(radius)) {\n        query_status.valid = true;\n    } else {\n        validateNumberInput(latitude, \"Latitude\");\n        validateNumberInput(longitude, \"Longitude\");\n        validateNumberInput(radius, \"Radius\");\n\n        if (query_status.valid) {\n            queryStr += \"latitude=\" + latitude +\n                \"&longitude=\" + longitude +\n                \"&radius=\" + radius +\n                \"&radius_unit=\" + radius_unit;\n        }\n    }\n    return queryStr;\n}\n\nfunction validateNumberInput(input, inputStr) {\n    if (emptyString(input)) {\n        // Then field is missing\n        query_status.valid = false;\n        query_status.status = inputStr + \" is missing!\";\n    } else if (!emptyString(input) && isNaN(input)) {\n        query_status.valid = false;\n        query_status.status = inputStr + \" is invalid!\";\n    }\n}\n\nfunction getInfoWindowContentString(busStop) {\n    content =\n        '<div id=\"content\">' +\n        '<div id=\"siteNotice\">' +\n        '</div>' +\n        '<b>bus stop: </b>' + busStop.name + '<br/>' +\n        '<b>buses: </b>' + busStop.routes + '<br/>' +\n        '<b>location: </b>' + busStop.lat + \"/\" + busStop.lng + '<br/>' +\n        '<a href=\"http://t.me/Sulaymon_Yahyo\">MY TELEGRAM ADDRESS</a>' +\n        '</div>' +\n        '</div>';\n    return content;\n}\n\nexport default function Maps() {\n    return (\n        <CustomSkinMap\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDS4sGjQ5hi3IFNYa0dYGyuxmNZzPwv1jc\"\n            loadingElement={<div style={{height: `100%`}}/>}\n            containerElement={<div style={{height: `80vh`}}/>}\n            mapElement={<div style={{height: `100%`}}/>}\n        />\n    );\n}"]},"metadata":{},"sourceType":"module"}